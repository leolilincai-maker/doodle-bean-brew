<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>豆豆谷 - 健康时尚豆类饮品</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo">
                <img src="images/logo.jpg" alt="豆豆谷 Doodle Bean Brew">
            </a>
            <ul class="nav-links">
                <li><a href="index.html" class="active">首页</a></li>
                <li><a href="products.html">产品介绍</a></li>
                <li><a href="ingredients.html">原料介绍</a></li>
                <li><a href="contact.html">联系我们</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>豆豆谷</h1>
                    <p>将传统豆类的营养与时尚花卉的美丽完美融合，<br>为您带来健康、美味、颜值并存的全新饮品体验</p>
                    <a href="products.html" class="cta-button">探索我们的饮品</a>
                </div>
            </div>
        </section>

        <section class="section bg-pattern">
            <div class="container">
                <h2 class="section-title">为什么选择豆豆谷</h2>
                <div class="cards-grid">
                    <div class="card fade-in">
                        <span class="card-icon">🌱</span>
                        <h3>天然健康</h3>
                        <p>精选优质豆类原料，富含植物蛋白和多种维生素，无添加剂，纯天然制作，为您的健康保驾护航。</p>
                    </div>
                    <div class="card fade-in">
                        <span class="card-icon">🌸</span>
                        <h3>时尚美学</h3>
                        <p>融入精心挑选的食用花卉，不仅增添视觉美感，更丰富了饮品的层次感和独特香气。</p>
                    </div>
                    <div class="card fade-in">
                        <span class="card-icon">⚡</span>
                        <h3>营养功效</h3>
                        <p>豆类与花卉的完美结合，提供全面营养补充，具有美容养颜、清热解毒等多重功效。</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">人气推荐</h2>
                <div class="product-grid">
                    <div class="product-card">
                        <div class="product-image">🌻</div>
                        <div class="product-info">
                            <h3 class="product-name">桂花黄豆奶茶</h3>
                            <p class="product-description">香甜桂花配上浓郁黄豆香，口感丰富，营养满分</p>
                            <div class="product-price">S$6.80</div>
                            <div class="order-buttons">
                                <a href="#" 
                                   class="order-btn whatsapp-btn" 
                                   data-message="🌱【豆豆谷订购】你好！我想订购：桂花黄豆奶茶 S$6.80。请问如何安排配送？谢谢！">
                                    📱 WhatsApp订购
                                </a>
                                <a href="#" onclick="showWeChatInfo()" 
                                   class="order-btn wechat-btn">
                                    💬 微信订购
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">🌹</div>
                        <div class="product-info">
                            <h3 class="product-name">玫瑰红豆拿铁</h3>
                            <p class="product-description">浪漫玫瑰花瓣与红豆的甜蜜邂逅，颜值与美味并存</p>
                            <div class="product-price">S$7.50</div>
                            <div class="order-buttons">
                                <a href="#" 
                                   class="order-btn whatsapp-btn" 
                                   data-message="🌱【豆豆谷订购】你好！我想订购：玫瑰红豆拿铁 S$7.50。请问如何安排配送？谢谢！">
                                    📱 WhatsApp订购
                                </a>
                                <a href="#" onclick="showWeChatInfo()" 
                                   class="order-btn wechat-btn">
                                    💬 微信订购
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">🌿</div>
                        <div class="product-info">
                            <h3 class="product-name">茉莉绿豆沙冰</h3>
                            <p class="product-description">清香茉莉花配绿豆，清热解毒，夏日首选</p>
                            <div class="product-price">S$6.20</div>
                            <div class="order-buttons">
                                <a href="#" 
                                   class="order-btn whatsapp-btn" 
                                   data-message="🌱【豆豆谷订购】你好！我想订购：茉莉绿豆沙冰 S$6.20。请问如何安排配送？谢谢！">
                                    📱 WhatsApp订购
                                </a>
                                <a href="#" onclick="showWeChatInfo()" 
                                   class="order-btn wechat-btn">
                                    💬 微信订购
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 2rem;">
                    <a href="products.html" class="cta-button">查看全部产品 View All Products</a>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">📱 联系订购 Contact & Order</h2>
                
                <!-- 免费配送说明 -->
                <div class="delivery-info" style="background: linear-gradient(135deg, #6B8E7B, #F4A261); color: white; padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem; text-align: center;">
                    <h3 style="color: white; margin-bottom: 1rem;">🚚 免费配送服务 Free Delivery</h3>
                    <p style="font-size: 1.1rem; margin: 0;">
                        <strong>配送范围</strong>：West Terra @ Bukit Batok (Block 447-453) & Le Quest公寓<br>
                        <strong>配送费用</strong>：完全免费 ✨<br>
                        <strong>配送时间</strong>：订购后30-60分钟内送达
                    </p>
                </div>
                
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">📱</span>
                        <h3>WhatsApp 订购</h3>
                        <p>新加坡个人定制服务<br>
                        <strong>WhatsApp:</strong> 智能分配到团队成员<br>
                        <strong>咨询时间:</strong> 随时留言，会及时回复<br>
                        <em style="font-size: 0.9em; color: #666;">双人团队，真人服务每一位客户</em></p>
                        <button class="order-btn whatsapp-btn" onclick="startDeliveryVerification('whatsapp')" style="margin-top: 1rem;">
                            💬 WhatsApp咨询
                        </button>
                    </div>
                    
                    <div class="card">
                        <span class="card-icon">💬</span>
                        <h3>微信订购</h3>
                        <p>华人群体专属服务<br>
                        <strong>微信号:</strong> 18565651233<br>
                        <strong>服务时间:</strong> 9:00 AM - 9:00 PM</p>
                        <button class="order-btn wechat-btn" onclick="startDeliveryVerification('wechat')" style="margin-top: 1rem;">
                            💬 微信咨询
                        </button>
                    </div>
                    
                    <div class="card">
                        <span class="card-icon">🚀</span>
                        <h3>即将推出</h3>
                        <p>更多社交渠道即将上线<br>
                        <strong>Instagram:</strong> @doodlebeanbrew_sg<br>
                        <strong>TikTok:</strong> @doodlebeanbrew</p>
                        <div style="margin-top: 1rem; color: var(--secondary-color); font-weight: bold;">
                            Coming Soon! 敬请期待
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section bg-pattern">
            <div class="container">
                <h2 class="section-title">客户好评</h2>
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">⭐⭐⭐⭐⭐</span>
                        <h3>小雅同学</h3>
                        <p>"桂花黄豆奶茶真的太棒了！既有传统豆浆的营养，又有桂花的香甜，关键是颜值超高！"</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">⭐⭐⭐⭐⭐</span>
                        <h3>健身达人Mark</h3>
                        <p>"作为健身爱好者，我特别喜欢这里的蛋白质含量丰富的豆类饮品，完全不用担心热量问题！"</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">⭐⭐⭐⭐⭐</span>
                        <h3>妈妈用户李女士</h3>
                        <p>"孩子特别喜欢这里的饮品，天然无添加让我很放心，花卉的加入让营养更全面！"</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <p>&copy; 2024 豆豆谷 Doodle Bean Brew. 保留所有权利</p>
                </div>
                <div class="social-links">
                    <a href="#" title="微信">📱</a>
                    <a href="#" title="微博">🐦</a>
                    <a href="#" title="小红书">📖</a>
                    <a href="#" title="抖音">🎵</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // WhatsApp随机分配系统
        const whatsappNumbers = [
            '6591012399',  // 用户本人
            '6583009375'   // 合伙人
        ];

        // 配送区域定义
        const deliveryAreas = {
            westTerra: {
                name: 'West Terra @ Bukit Batok',
                blocks: ['447', '448', '449', '450', '451', '452', '453'],
                address: 'Bukit Batok West Avenue'
            },
            leQuest: {
                name: 'Le Quest公寓',
                address: 'Bukit Batok West Avenue 6'
            }
        };

        function getRandomWhatsApp() {
            const randomIndex = Math.floor(Math.random() * whatsappNumbers.length);
            return whatsappNumbers[randomIndex];
        }

        function openWhatsAppChat(message) {
            const selectedNumber = getRandomWhatsApp();
            const whatsappUrl = `https://wa.me/${selectedNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // 启动配送地址验证流程
        function startDeliveryVerification(platform, productName = '', productPrice = '') {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(5px);
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 2rem;
                border-radius: 20px;
                max-width: 500px;
                width: 90%;
                text-align: center;
                box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                position: relative;
            `;
            
            content.innerHTML = `
                <h3 style="color: #6B8E7B; margin-bottom: 1.5rem;">🚚 配送地址验证</h3>
                
                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; margin-bottom: 1.5rem; text-align: left;">
                    <h4 style="color: #333; margin-bottom: 1rem;">✅ 免费配送区域：</h4>
                    <div style="margin-bottom: 1rem;">
                        <strong>🏠 West Terra @ Bukit Batok</strong><br>
                        <span style="color: #666;">Block 447, 448, 449, 450, 451, 452, 453</span><br>
                        <span style="color: #666;">Bukit Batok West Avenue 2/5</span>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <strong>🏢 Le Quest公寓</strong><br>
                        <span style="color: #666;">Bukit Batok West Avenue 6</span>
                    </div>
                    <div style="color: #E76F51; font-weight: bold;">
                        🚚 配送费用：完全免费<br>
                        ⏰ 配送时间：30-60分钟
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">请选择您的地址：</label>
                    <select id="addressSelect" style="width: 100%; padding: 0.8rem; border: 2px solid #6B8E7B; border-radius: 10px; font-size: 1rem;">
                        <option value="">请选择您的具体地址...</option>
                        <optgroup label="🏠 West Terra @ Bukit Batok">
                            <option value="447">Block 447 Bukit Batok West Avenue</option>
                            <option value="448">Block 448 Bukit Batok West Avenue</option>
                            <option value="449">Block 449 Bukit Batok West Avenue</option>
                            <option value="450">Block 450 Bukit Batok West Avenue</option>
                            <option value="451">Block 451 Bukit Batok West Avenue</option>
                            <option value="452">Block 452 Bukit Batok West Avenue</option>
                            <option value="453">Block 453 Bukit Batok West Avenue</option>
                        </optgroup>
                        <optgroup label="🏢 Le Quest公寓">
                            <option value="lequest">Le Quest, Bukit Batok West Avenue 6</option>
                        </optgroup>
                        <option value="other">我的地址不在上述范围内</option>
                    </select>
                </div>
                
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="processAddressSelection('${platform}', '${productName}', '${productPrice}')" 
                            style="background: #6B8E7B; color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 25px; cursor: pointer; font-weight: bold;">
                        确认订购
                    </button>
                    <button onclick="closeAddressModal()" 
                            style="background: #ccc; color: #333; border: none; padding: 0.8rem 1.5rem; border-radius: 25px; cursor: pointer;">
                        取消
                    </button>
                </div>
                
                <button onclick="closeAddressModal()" style="
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    background: none;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: #999;
                ">✕</button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // 点击背景关闭
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeAddressModal();
                }
            });
        }

        // 处理地址选择
        function processAddressSelection(platform, productName, productPrice) {
            const addressSelect = document.getElementById('addressSelect');
            const selectedAddress = addressSelect.value;
            const selectedText = addressSelect.options[addressSelect.selectedIndex].text;
            
            if (!selectedAddress) {
                alert('请选择您的配送地址');
                return;
            }
            
            if (selectedAddress === 'other') {
                alert('很抱歉，您的地址暂时不在我们的配送范围内。\n\n我们目前只服务：\n• West Terra @ Bukit Batok (Block 447-453)\n• Le Quest公寓\n\n感谢您的理解！');
                return;
            }
            
            closeAddressModal();
            
            // 根据平台执行不同操作
            if (platform === 'whatsapp') {
                let message;
                if (productName && productPrice) {
                    message = `🌱【豆豆谷订购】你好！我想订购：${productName} ${productPrice}

📍 配送地址：${selectedText}
🚚 免费配送服务

请问什么时候可以安排配送？谢谢！`;
                } else {
                    message = `🌱【豆豆谷咨询】Hi! 我从官网看到豆豆谷 Doodle Bean Brew，想了解一下产品和订购方式。

📍 我的地址：${selectedText}
🚚 了解到您提供免费配送服务

谢谢！`;
                }
                openWhatsAppChat(message);
            } else if (platform === 'wechat') {
                showWeChatInfo();
            }
        }

        // 关闭地址验证模态框
        function closeAddressModal() {
            const modal = document.querySelector('div[style*="position: fixed"][style*="z-index: 10000"]');
            if (modal) {
                modal.remove();
            }
        }

        function showWeChatInfo() {
            // 创建一个更美观的弹窗
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(5px);
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 2rem;
                border-radius: 20px;
                max-width: 400px;
                width: 90%;
                text-align: center;
                box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                position: relative;
            `;
            
            content.innerHTML = `
                <h3 style="color: #6B8E7B; margin-bottom: 1rem;">💬 微信咨询 - 豆豆谷</h3>
                
                <div style="margin: 1.5rem 0;">
                    <img src="images/wechat-qr.jpg" 
                         style="width: 200px; height: 200px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);"
                         onerror="this.style.display='none'; document.getElementById('qr-error').style.display='block';">
                    
                    <div id="qr-error" style="display: none; padding: 2rem; background: #f0f0f0; border-radius: 10px; margin: 1rem 0;">
                        <p style="color: #666; margin: 0;">📱 微信二维码加载中...</p>
                    </div>
                </div>
                
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                    <p style="margin: 0; color: #333;"><strong>📱 微信号：18565651233</strong></p>
                    <button onclick="copyWeChatNumber()" style="
                        background: #07C160;
                        color: white;
                        border: none;
                        padding: 0.5rem 1rem;
                        border-radius: 20px;
                        margin-top: 0.5rem;
                        cursor: pointer;
                        font-size: 0.9rem;
                    ">📋 复制微信号</button>
                </div>
                
                <div style="font-size: 0.9rem; color: #666; text-align: left;">
                    <p><strong>添加方式：</strong></p>
                    <p>1️⃣ 扫描上方二维码</p>
                    <p>2️⃣ 手动搜索微信号：18565651233</p>
                    <p style="color: #E76F51;"><strong>📝 添加时请备注：豆豆谷咨询</strong></p>
                    
                    <hr style="margin: 1rem 0; border: none; border-top: 1px solid #eee;">
                    
                    <p>⏰ <strong>微信回复时间：</strong></p>
                    <p>• 工作日：晚上统一回复</p>
                    <p>• 周末：上午/下午集中回复</p>
                    <p>🔥 急需订购建议使用WhatsApp（即时回复）</p>
                    
                    <div style="background: #e8f5e8; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <p style="margin: 0; color: #6B8E7B; font-weight: bold;">🚚 免费配送服务</p>
                        <p style="margin: 0.5rem 0 0 0; font-size: 0.85rem;">West Terra @ Bukit Batok (Block 447-453) & Le Quest公寓</p>
                    </div>
                </div>
                
                <button onclick="closeWeChatModal()" style="
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    background: none;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: #999;
                ">✕</button>
                
                <button onclick="closeWeChatModal()" style="
                    background: #6B8E7B;
                    color: white;
                    border: none;
                    padding: 0.8rem 2rem;
                    border-radius: 25px;
                    margin-top: 1rem;
                    cursor: pointer;
                    font-weight: bold;
                ">知道了</button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // 点击背景关闭
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeWeChatModal();
                }
            });
        }

        function copyWeChatNumber() {
            if (navigator.clipboard) {
                navigator.clipboard.writeText('18565651233').then(() => {
                    alert('✅ 微信号已复制到剪贴板：18565651233');
                });
            } else {
                // 降级方案
                const textArea = document.createElement('textarea');
                textArea.value = '18565651233';
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('✅ 微信号已复制：18565651233');
            }
        }

        function closeWeChatModal() {
            const modal = document.querySelector('div[style*="position: fixed"][style*="z-index: 10000"]');
            if (modal) {
                modal.remove();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // 滚动动画
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            });

            document.querySelectorAll('.card, .product-card').forEach(el => {
                observer.observe(el);
            });

            // 绑定WhatsApp按钮点击事件
            document.querySelectorAll('.whatsapp-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const message = this.getAttribute('data-message');
                    openWhatsAppChat(message);
                });
            });
        });
    </script>
</body>
</html>
